<html>
    <head>
        <link href="https://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet">
        <link rel="stylesheet" type="text/css" href="cheep.css"/>
    </head>

    <body>

        <div id="screen">

            <div id="information">
                Email
                <input type="text" class="create" id="create_email">
                Username
                <input type="text" class="create" id="create_username">
                Password
                <input type="text" class="create" id="create_password">
                Confirm Password
                <input type="text" class="create" id="create_confpassword">
                Address (optional)
                <input type="text" class="create" id="create_street">
                <input type="text" class="create" id="create_city">
                <input type="text" class="create" id="create_state">
                <input type="text" class="create" id="create_zip">
            </div>

            <button onclick="writeUserData()" style="font-size: 17px; margin-top: 10px;">CREATE ACCOUNT</button>

        </div>

        <!-- The core Firebase JS SDK is always required and must be listed first -->
        <script src="https://www.gstatic.com/firebasejs/6.0.2/firebase-app.js"></script>
        <script src="https://www.gstatic.com/firebasejs/3.1.0/firebase-database.js"></script>

        <!-- TODO: Add SDKs for Firebase products that you want to use
             https://firebase.google.com/docs/web/setup#config-web-app -->

        <script>
            // Your web app's Firebase configuration
            var firebaseConfig = {
                apiKey: "AIzaSyDnOwuo2b9OnJsVH0ErxUgarks1iKFDRM8",
                authDomain: "cheep-app.firebaseapp.com",
                databaseURL: "https://cheep-app.firebaseio.com",
                projectId: "cheep-app",
                storageBucket: "cheep-app.appspot.com",
                messagingSenderId: "17385407188",
                appId: "1:17385407188:web:b41fa17aaeda8b52"
            };
            // Initialize Firebase
            firebase.initializeApp(firebaseConfig);
        </script>

        <script>
            function writeUserData(){
                console.log('Write Function Called')

                if((document.getElementById('create_password').value) !== (document.getElementById('create_confpassword').value)){
                    alert('Password and Confirm Password fields do not match')
                    return;
                }

                firebase.database().ref('users/'+document.getElementById('create_username').value).set({
                    username: document.getElementById('create_username').value,
                    email: document.getElementById('create_email').value,
                    password: document.getElementById('create_password').value,
                    street: document.getElementById('create_street').value,
                    city: document.getElementById('create_city').value,
                    state: document.getElementById('create_state').value,
                    zip: document.getElementById('create_zip').value
                });
            }
        </script>

    </body>

</html>